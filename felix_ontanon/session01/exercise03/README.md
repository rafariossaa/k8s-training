Have a look at commands.sh to see the cool way I found to generate self-signed certs and upload into kubernetes on the fly.
The rest is pretty straight forward to understand :)